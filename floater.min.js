function Floater(e){return this.opts={"class":"floater",attribute:"label",usePlaceholder:!0},this.combineOpts(e),this.opts.usePlaceholder&&(this.opts.attribute="placeholder"),this}Floater.prototype.combineOpts=function(e){e=e||{};for(var t in e)this.opts[t]=e[t]},Floater.prototype.getElements=function(){this.elements=document.getElementsByClassName(this.opts["class"])},Floater.prototype.createElements=function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e],s=this.createContainer(t);t.parentNode.insertBefore(s,t.nextSibling);var a=this.createLabel("floater-label",t),o=this.createLabel("floater-message");s.appendChild(a),s.appendChild(o),s.appendChild(t),t.value?this.show(a):this.hide(a),this.bindEvent(t,a)}},Floater.prototype.createContainer=function(e){var t=document.createElement("div");return t.setAttribute("floater-id",e.getAttribute("floater-id")),e.removeAttribute("floater-id"),t.className=e.className.replace(/floater/g,""),t.className+=" floater-container",t},Floater.prototype.createLabel=function(e,t){var s=document.createElement("span");return s.className=e,t&&(s.innerHTML=this.getText(t)),s},Floater.prototype.bindEvent=function(e,t){e.addEventListener("focus",function(){t.className.match(/visible/g)||this.show(t)}.bind(this)),e.addEventListener("blur",function(){e.value.length>0||this.hide(t)}.bind(this))},Floater.prototype.getText=function(e){return e.getAttribute(this.opts.attribute)},Floater.prototype.hasElements=function(){return this.elements&&this.elements.length>0},Floater.prototype["float"]=function(){return this.getElements(),this.hasElements()?(this.createElements(),this):void 0},Floater.prototype.message=function(e){if(e&&e.id&&e.text){e.type=e.type||"good";var t=document.querySelector('[floater-id="'+e.id+'"]'),s=t.getElementsByClassName(this.opts["class"])[0],a=t.getElementsByClassName("floater-message")[0];a&&(a.innerHTML=this.escapeHtml(e.text),this.show(a),a.className+=" "+e.type,s.addEventListener("keyup",function(){this.hide(a)}.bind(this)))}},Floater.prototype.hide=function(e){e.className=e.className.replace(/visible/g,"")+" hidden"},Floater.prototype.show=function(e){e.className=e.className.replace(/hidden/g,"")+" visible"},Floater.prototype.escapeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};